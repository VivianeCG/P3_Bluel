//icône pour page modif: <i class="fa-regular fa-pen-to-square"></i>






//icône de la poubelle
//<i class="fa-solid fa-trash-can"></i>
//afficher la bannière et le bouton une fois redirigé sur la page index après la connexion
function activateEditMode() {
  document.getElementById('edit').style.display='flex';
  document.getElementById('edit-button').style.display='flex';
  document.getElementById('login').style.display = 'none';
  document.getElementById('logout').style.display = 'flex';
}
function deactivateEditMode() {
  document.getElementById('edit').style.display='none';
  document.getElementById('edit-button').style.display='none';
  document.getElementById('logout').style.display = 'none';
  document.getElementById('login').style.display = 'flex';
}
// Récupération du token depuis le "local storage"
//const token = localStorage.getItem('token');
//afficher logout une fois redirigé sur la page index après la connexion
function changeLogStatus() {
  let logInStatus = document.getElementById('login');
  console.log(logInStatus)
 
      document.getElementById('login').style.display = 'none';
      document.getElementById('logout').style.display = 'flex';
  
}
//si la connexion est effective appeler les fonctions modifiant l'aspect de la page
function successfullLogin() {
  //pour vérifier que le token est bien récupéré avant de lancer la fonction changeLogStatus
  console.log();
  
      activateEditMode();
      changeLogStatus();
  
}
successfullLogin();

// Fonction pour réinitialiser la page
// Ajouter un gestionnaire d'événements au bouton "Login/Logout"
document.getElementById('logout').addEventListener('click', function() {
          // suppression du token et réinitialisation de la page
      localStorage.removeItem('token'); 
      document.getElementById('edit').style.display = 'none';
      document.getElementById('edit-button').style.display = 'none';
      document.getElementById('logout').style.display = 'none';
      document.getElementById('login').style.display = 'flex';
});

// Appeler successfulLogin après que la page a fini de charger pour s'assurer d'avoir le token
//document.addEventListener('DOMContentLoaded', successfullLogin);

//\Users\vivia\Documents\OpenClassrooms\projet_3\P3_Bluel\FrontEnd\index.html
function checkLoginStatus() {
    if (token) {
        activateEditMode();
        changeLogStatus();
    } else {
        resetPage();
    }
}

